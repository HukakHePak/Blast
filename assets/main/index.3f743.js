window.__require=function t(e,o,r){function n(c,l){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var a="function"==typeof __require&&__require;if(!l&&a)return a(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var p=o[c]={exports:{}};e[c][0].call(p.exports,function(t){return n(e[c][1][t]||t)},p,p.exports,t,e,o,r)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<r.length;c++)n(r[c]);return n}({BombBlock:[function(t,e,o){"use strict";cc._RF.push(e,"e8c89kF4L5J7ZMMHjncSase","BombBlock");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<o;e++)for(var i=arguments[e],c=0,l=i.length;c<l;c++,n++)r[n]=i[c];return r};Object.defineProperty(o,"__esModule",{value:!0});var l=t("./SimpleBlock"),s=cc._decorator.ccclass,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.parent=this.getComponent(l.default)},e.prototype.handleBlocks=function(t){var e=t.filter(function(t){return(null==t?void 0:t.type)<l.BlockTypes.BOMB});this.parent.mapController.removeBlocks(c([this.parent],e)),this.parent.game.levelController.fire(e.length)},e.prototype.onTouch=function(){var t=this.parent,e=t.game,o=t.mapController,r=t.type,n=t.column,i=t.row,c=o.bombRadius,s=o.mapHeight,a=o.mapWidth,p=[];switch(r){case l.BlockTypes.BOMB:for(var u=n-c;u<=n+c;u++)for(var h=i-c;h<=i+c;h++)p.push(o.getBlock(u,h));break;case l.BlockTypes.BOMB_M:return o.clear(),void e.levelController.fire(s*a-1);case l.BlockTypes.RACKETS:p.push.apply(p,o.mapData[n]);break;case l.BlockTypes.RACKETS_H:p.push.apply(p,o.mapData.map(function(t){return t[i]}))}this.handleBlocks(p)},i([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./SimpleBlock":"SimpleBlock"}],BoostersController:[function(t,e,o){"use strict";cc._RF.push(e,"621d6QeduNM1KD0DNrMyakN","BoostersController");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Booster"),l=cc._decorator,s=l.ccclass,a=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boostersContainer=null,e.boostersNode=null,e.game=null,e.active=null,e}return n(e,t),e.prototype.deactivate=function(){this.active.deactivate(),this.active=null},e.prototype.init=function(t){this.game=t},e.prototype.start=function(){var t=this;this.boostersNode.getComponentsInChildren(c.default).map(function(e){return e.init(t)})},e.prototype.activate=function(t){var e;null===(e=this.active)||void 0===e||e.deactivate(),this.active=t},i([a(cc.Node)],e.prototype,"boostersContainer",void 0),i([a(cc.Node)],e.prototype,"boostersNode",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./Booster":"Booster"}],Booster:[function(t,e,o){"use strict";cc._RF.push(e,"3f1e6MnwKBO7KGP9X87qael","Booster");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.BoosterType=void 0;var c,l=t("../Blocks/SimpleBlock"),s=cc._decorator,a=s.ccclass,p=s.property;(function(t){t[t.NONE=0]="NONE",t[t.BOMB=1]="BOMB",t[t.TELEPORT=2]="TELEPORT"})(c=o.BoosterType||(o.BoosterType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.NONE,e.count=0,e.labelCount=null,e.pickedBlock=null,e}return n(e,t),e.prototype.init=function(t){this.boostersController=t},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){t.onTouch()})},e.prototype.onTouch=function(){this.boostersController.activate(this);var t=this.boostersController.game;cc.tween(this.node).to((1-t.longAnimationMultiplier)*t.animationDurability,{scale:1.1}).start()},e.prototype.use=function(t){var e=this.boostersController.game.levelController.mapController;switch(this.type){case c.BOMB:e.removeBlock(t),this.boostersController.game.levelController.fire(1),e.createBlock(t.column,t.row,l.BlockTypes.BOMB);break;case c.TELEPORT:if(!this.pickedBlock)return void(this.pickedBlock=t);e.swapBlocks(this.pickedBlock,t)}this.boostersController.deactivate(),this.count-=1},e.prototype.deactivate=function(){var t=this.boostersController.game;cc.tween(this.node).to((1-t.longAnimationMultiplier)*t.animationDurability,{scale:1}).start(),this.pickedBlock=null},e.prototype.update=function(){this.labelCount.string=""+this.count},i([p({type:cc.Enum(c)})],e.prototype,"type",void 0),i([p(cc.Integer)],e.prototype,"count",void 0),i([p(cc.Label)],e.prototype,"labelCount",void 0),i([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Blocks/SimpleBlock":"SimpleBlock"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"51b61d0b9hGkbQvKsk/p0ku","Game");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Level/LevelController"),l=cc._decorator,s=l.ccclass,a=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animationDurability=.5,e.longAnimationMultiplier=.8,e.levelControllerNode=null,e.levelController=null,e}return n(e,t),e.prototype.start=function(){this.levelController=this.levelControllerNode.getComponent(c.default),this.levelController.init(this)},e.prototype.update=function(){},i([a(cc.Integer)],e.prototype,"animationDurability",void 0),i([a(cc.Integer)],e.prototype,"longAnimationMultiplier",void 0),i([a(cc.Node)],e.prototype,"levelControllerNode",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Level/LevelController":"LevelController"}],LevelController:[function(t,e,o){"use strict";cc._RF.push(e,"ef58aGz/05MBLwez7EoeZQh","LevelController");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Boosters/BoostersController"),l=t("../Map/MapController"),s=cc._decorator,a=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.victoryNode=null,e.defeatNode=null,e.scoresLabel=null,e.stepsLabel=null,e.mapNode=null,e.mapController=null,e.steps=0,e.stepsLimit=10,e.scores=0,e.scoresLimit=100,e.mapShakes=0,e.mapShakesLimit=3,e.boostersNode=null,e.game=null,e}return n(e,t),e.prototype.start=function(){var t=this;this.victoryNode.on(cc.Node.EventType.TOUCH_START,function(){return t.restart()}),this.defeatNode.on(cc.Node.EventType.TOUCH_START,function(){return t.restart()})},e.prototype.init=function(t){this.mapController=this.mapNode.getComponent(l.default),this.boostersController=this.boostersNode.getComponent(c.default),this.game=t,this.boostersController.init(t)},e.prototype.shake=function(){this.mapShakes+=1,console.log(this.mapShakes),this.mapShakes>this.mapShakesLimit&&this.defeat()},e.prototype.fire=function(t){this.scores+=t,this.steps+=1,this.scores>=this.scoresLimit?this.victory():this.steps>=this.stepsLimit&&this.defeat()},e.prototype.victory=function(){this.victoryNode.active=!0},e.prototype.defeat=function(){this.defeatNode.active=!0},e.prototype.restart=function(){this.victoryNode.active=!1,this.defeatNode.active=!1,this.steps=0,this.scores=0,this.mapShakes=0,this.mapController.clear()},e.prototype.updateLabels=function(){this.stepsLabel.string=""+(this.stepsLimit-this.steps),this.scoresLabel.string=this.scores+"/"+this.scoresLimit},e.prototype.update=function(){this.updateLabels()},i([p(cc.Node)],e.prototype,"victoryNode",void 0),i([p(cc.Node)],e.prototype,"defeatNode",void 0),i([p(cc.Label)],e.prototype,"scoresLabel",void 0),i([p(cc.Label)],e.prototype,"stepsLabel",void 0),i([p(cc.Node)],e.prototype,"mapNode",void 0),i([p],e.prototype,"stepsLimit",void 0),i([p],e.prototype,"scoresLimit",void 0),i([p],e.prototype,"mapShakesLimit",void 0),i([p(cc.Node)],e.prototype,"boostersNode",void 0),i([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Boosters/BoostersController":"BoostersController","../Map/MapController":"MapController"}],MapController:[function(t,e,o){"use strict";cc._RF.push(e,"dd202pPAkhNLb3PDmDhpQ50","MapController");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Blocks/SimpleBlock"),l=t("../Game/Game"),s=t("../Utils/utils"),a=cc._decorator,p=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapWidth=8,e.mapHeight=9,e.blockSize=80,e.blocksGap=5,e.minimalChainLength=2,e.bombSpawnChainLength=5,e.maxBombSpawnChainLength=10,e.bombRadius=3,e.colorBlocksNode=null,e.bombsBlocksNode=null,e.mapNode=null,e.mapBackgroundNode=null,e.gameNode=null,e.game=null,e.mapData=[],e.blockList=[],e.bombsList=[],e.spawnCounter=0,e}return n(e,t),e.prototype.start=function(){this.game=this.gameNode.getComponent(l.default),this.blockList=this.colorBlocksNode.getComponentsInChildren(c.default),this.bombsList=this.bombsBlocksNode.getComponentsInChildren(c.default),this.init()},e.prototype.init=function(){var t=this,e=(this.mapWidth-1)*(this.blockSize+this.blocksGap),o=(this.mapHeight-1)*(this.blockSize+this.blocksGap);this.mapNode.width=e,this.mapNode.height=o,this.mapBackgroundNode.width=e+2*(this.blockSize+this.blocksGap),this.mapBackgroundNode.height=o+2*(this.blockSize+this.blocksGap),this.mapData=Array.from({length:this.mapWidth}).map(function(){return Array.from({length:t.mapHeight})}),this.fillMap()},e.prototype.fillMap=function(){var t=this;this.mapData.forEach(function(e,o){e.forEach(function(e,r){e||t.createBlock(o,r)})}),this.hasMoves||(this.clear(),this.game.levelController.shake())},e.prototype.createBlock=function(t,e,o){var r=cc.instantiate(this.getBlockByType(o).node);this.mapNode.addChild(r);var n=r.getComponent(c.default);n.spawn(this,t,e),this.mapData[t][e]=n},e.prototype.clear=function(){var t=this;this.mapData.forEach(function(e){e.forEach(function(e){t.removeBlock(e)})}),this.fillMap()},Object.defineProperty(e.prototype,"hasMoves",{get:function(){var t=this;return this.mapData.some(function(e,o){return e.some(function(r,n){var i,l;return(null==r?void 0:r.type)>=c.BlockTypes.BOMB||(null==r?void 0:r.type)===(null===(i=e[n+1])||void 0===i?void 0:i.type)||(null==r?void 0:r.type)===(null===(l=t.mapData[o+1])||void 0===l?void 0:l[n].type)})})},enumerable:!1,configurable:!0}),e.prototype.getBlockByType=function(t){return t?this.bombsList.find(function(e){return e.type===t})||this.blockList.find(function(e){return e.type===t}):s.selectAny(this.blockList)},e.prototype.replaceBlock=function(t,e,o){var r;if(null===(r=this.mapData[t])||void 0===r?void 0:r[e]){if(this.mapData[t][e]=o,!o)return;o.column=t,o.row=e,o.move()}},e.prototype.swapBlocks=function(t,e){var o=e.column,r=e.row;this.replaceBlock(t.column,t.row,e),this.replaceBlock(o,r,t)},e.prototype.removeBlocks=function(t){var e=this;t.forEach(function(t){return e.removeBlock(t)}),this.scheduleOnce(function(){e.fallMap()},this.game.animationDurability)},e.prototype.fallMap=function(){var t=this;this.mapData=this.mapData.map(function(e,o){var r=Array.from({length:t.mapHeight});return e.filter(function(t){return t}).forEach(function(t,e){t.column=o,t.row=e,t.move(),r[e]=t}),r}),this.fillMap()},e.prototype.removeBlock=function(t){if(t){var e=t.column,o=t.row;t.remove(),this.mapData[e][o]=null}},e.prototype.getBlock=function(t,e){var o;return null===(o=this.mapData[t])||void 0===o?void 0:o[e]},i([u(cc.Integer)],e.prototype,"mapWidth",void 0),i([u(cc.Integer)],e.prototype,"mapHeight",void 0),i([u(cc.Integer)],e.prototype,"blockSize",void 0),i([u(cc.Integer)],e.prototype,"blocksGap",void 0),i([u(cc.Integer)],e.prototype,"minimalChainLength",void 0),i([u(cc.Integer)],e.prototype,"bombSpawnChainLength",void 0),i([u(cc.Integer)],e.prototype,"maxBombSpawnChainLength",void 0),i([u(cc.Integer)],e.prototype,"bombRadius",void 0),i([u(cc.Node)],e.prototype,"colorBlocksNode",void 0),i([u(cc.Node)],e.prototype,"bombsBlocksNode",void 0),i([u(cc.Node)],e.prototype,"mapNode",void 0),i([u(cc.Node)],e.prototype,"mapBackgroundNode",void 0),i([u(cc.Node)],e.prototype,"gameNode",void 0),i([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Blocks/SimpleBlock":"SimpleBlock","../Game/Game":"Game","../Utils/utils":"utils"}],SimpleBlock:[function(t,e,o){"use strict";cc._RF.push(e,"bcccaVEHqRIwargEqynWD8n","SimpleBlock");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<o;e++)for(var i=arguments[e],c=0,l=i.length;c<l;c++,n++)r[n]=i[c];return r};Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleBlockState=o.BombTypes=o.BlockTypes=void 0;var l,s,a=t("../Game/Game"),p=t("../Utils/utils"),u=t("./BombBlock"),h=cc._decorator,f=h.ccclass,d=h.property;(function(t){t[t.NONE=0]="NONE",t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=3]="BLUE",t[t.PURPLE=4]="PURPLE",t[t.YELLOW=5]="YELLOW",t[t.BOMB=6]="BOMB",t[t.BOMB_M=7]="BOMB_M",t[t.RACKETS=8]="RACKETS",t[t.RACKETS_H=9]="RACKETS_H"})(l=o.BlockTypes||(o.BlockTypes={})),o.BombTypes=[l.BOMB,l.BOMB_M,l.RACKETS,l.RACKETS_H],function(t){t.NONE="none",t.IDLE="idle",t.FALL="fall",t.SPAWN="spawn",t.TOUCHED="touched"}(s=o.SimpleBlockState||(o.SimpleBlockState={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=l.NONE,e.gameNode=null,e.column=0,e.row=0,e.state=s.NONE,e}return n(e,t),e.prototype.spawn=function(t,e,o,r){var n=this;this.mapController=t,this.game=this.gameNode.getComponent(a.default);var i=t.blocksGap,c=t.blockSize,l=this.game,p=l.animationDurability,u=l.longAnimationMultiplier;return this.state=s.SPAWN,this.node.active=!0,this.column=e,this.row=o,this.node.width=c,this.node.height=c,this.node.x=(this.node.width+i)*e,this.node.y=(this.node.height+i)*o,this.node.scale=0,cc.tween(this.node).delay(p).to(p*u,{scale:1.1}).to(p*(1-u),{scale:1}).call(function(){n.state=s.IDLE,null==r||r()}).start(),this.node.on(cc.Node.EventType.TOUCH_START,function(){return n.onTouch()}),this},e.prototype.start=function(){},Object.defineProperty(e.prototype,"booster",{get:function(){return this.game.levelController.boostersController.active},enumerable:!1,configurable:!0}),e.prototype.onTouch=function(){if(this.state===s.IDLE)if(o.BombTypes.includes(this.type))this.getComponent(u.default).onTouch();else if(this.booster)this.booster.use(this);else{var t=this.fireTouch();if(t.length>=this.mapController.minimalChainLength){if(this.mapController.removeBlocks(t),t.length>=this.mapController.bombSpawnChainLength){var e=t.length>=this.mapController.maxBombSpawnChainLength?l.BOMB_M:p.selectAny([l.BOMB,l.RACKETS,l.RACKETS_H]);return this.mapController.createBlock(this.column,this.row,e),void this.game.levelController.fire(t.length)}this.game.levelController.fire(t.length)}else t.forEach(function(t){return t.state=s.IDLE})}},e.prototype.fireTouch=function(){var t=this.column,e=this.row;return this.state=s.TOUCHED,c([this],this.touchSame(t-1,e),this.touchSame(t+1,e),this.touchSame(t,e-1),this.touchSame(t,e+1))},e.prototype.touchSame=function(t,e){var o=this.mapController.getBlock(t,e);return(null==o?void 0:o.type)===this.type&&o.state!==s.TOUCHED?c(o.fireTouch()):[]},e.prototype.remove=function(){var t=this,e=this.game,o=e.animationDurability,r=e.longAnimationMultiplier;return cc.tween(this.node).to(o*(1-r),{scale:1.1}).to(o*r,{scale:0}).call(function(){t.mapController.mapNode.removeChild(t.node)}).start()},e.prototype.move=function(){var t=this,e=this.mapController,o=e.blocksGap,r=e.blockSize,n=this.game.animationDurability;cc.tween(this.node).to(n,{position:cc.v3((r+o)*this.column,(r+o)*this.row)}).call(function(){return t.state=s.IDLE}).start()},i([d({type:cc.Enum(l)})],e.prototype,"type",void 0),i([d(cc.Node)],e.prototype,"gameNode",void 0),i([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Game/Game":"Game","../Utils/utils":"utils","./BombBlock":"BombBlock"}],utils:[function(t,e,o){"use strict";cc._RF.push(e,"e8db2zfra9EqL9MWxq0R7E5","utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.selectAny=void 0,o.selectAny=function(t){return t[Math.round(Math.random()*(t.length-1))]},cc._RF.pop()},{}]},{},["BombBlock","SimpleBlock","Booster","BoostersController","Game","LevelController","MapController","utils"]);